# Contributor: Daniel Wallace <daniel.wallace at gatech dot edu>
# MAintainer: Pablo Lezaeta <prflr88 (arroba) gmail (punto) com>

pkgname=ponysay-dev-git
_pkgname=ponysay
pkgver=0.1878.3.0.1
pkgver(){
	cd $_pkgname
	echo "0.$(git rev-list --count HEAD).$(git describe --always)"
}
pkgrel=1
pkgdesc="Pony wrapper for cowsay. (develop branch)"
arch=('any')
url="https://github.com/erkin/ponysay"
license=('GPL3' 'FDL')
depends=('python3' 'coreutils')
provides=('ponysay')
conflict=('ponysay' 'ponysay-git' 'ponysay-free')
optdepends=('util-say: tty2colourfultty, ponysay2ttyponysay.pony; the possibility to use .png like any .pony file')
makedepends=('git' 'texinfo' 'python-distribute' 'util-say-git')
branch=("develop")
source=("$_pkgname::git+https://github.com/erkin/ponysay#branch=$branch")
md5sums=("SKIP")

package() {
	cd $srcdir/$_pkgname
#	./dev/dist.sh ttyponies
	python3 ./setup.py --freedom=partial --prefix=/usr --dest-dir=$pkgdir --everything --with-pdf=/usr/share/doc/ponysay --without-pdf-compression install
	install -Dm644 COPYING "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}

# vim:set ts=2 sw=2 et:
